<!DOCTYPE html>
<html lang="pt">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>JSON - Objetos</title>
    <link rel="stylesheet" type="text/css" href="estilos.css">
</head>

<body>
    <h1>JSON</h1>

    <div id="exercise">
        <h2>Ex. 1 - Analisando pontos de um time</h2>
        <form>
            Vitórias <input type="number" id="vitorias"> <br>
            Empates <input type="number" id="empates"> <br>
            Derrotas <input type="number" id="derrotas"> <br>
            <button type="button" onclick="analisar()">Analisar campanha</button>
        </form>
        <div id="resultado"></div>
    </div>

    <div id="exercise">
        <h2>Ex. 2 - Analisando mais de um time</h2>
        <form>
            Nome do primeiro time: <input type="text" id="nomeTimeA"> <br>
            Vitórias <input type="number" id="vitoriasTimeA"> <br>
            Empates <input type="number" id="empatesTimeA"> <br>
            Derrotas <input type="number" id="derrotasTimeA"> <br>
            <br>
            Nome do segundo time: <input type="text" id="nomeTimeB"> <br>
            Vitórias <input type="number" id="vitoriasTimeB"> <br>
            Empates <input type="number" id="empatesTimeB"> <br>
            Derrotas <input type="number" id="derrotasTimeB"> <br>
            <button type="button" onclick="analisarTimeAB()">Analisar Times</button>
        </form>
        <br>
        <div id="resultadoTimeAB"></div>
    </div>

    <div id="exercise">
        <h2>Ex. 3 - Pontuando país</h2>
        <form>
            Nome do País: <input type="text" id="nomePais"> <br>
            Quantidade de medalhas de ouro: <input type="number" id="ouroPais"> <br>
            Quantidade de medalhas de prata: <input type="number" id="prataPais"> <br>
            Quantidade de medalhas de bronze: <input type="number" id="bronzePais"> <br>
            <button type="button"
                onclick="pontuarPais(nomePais.value, ouroPais.value, prataPais.value, bronzePais.value)">Analisar
                medalhas</button>
        </form>
        <div id="msg_medalhas_pais"></div>
    </div>

    <div id="exercise">
        <h2>Ex. 4 - Pesquisando CEPs</h2>
        <form>
            Qual CEP você deseja pesquisar? <input type="text" id="cep_pesquisado" placeholder="00000-000"> <br>
            <button type="button" onclick="encontrarCep(cep_pesquisado.value)">Pesquisar</button>
        </form>
        <div id="msgCep"></div>
    </div>

    <div id="exercise">
        <h2>Ex. 5 - Simulando Poupança</h2>
        <form>
            Saldo: R$ <b id="v_saldo">0.00</b> <br>
            Depósitos: <b id="n_dep">0</b> <br>
            Saques: <b id="n_saques">0</b> <br>
            <button type="button" onclick="depositar100()">Depositar 100</button> <br>
            <button type="button" onclick="sacar20()">Sacar 20</button>
        </form>
    </div>

    <div id="exercise">
        <h2>Extra - Tentado criar caixa eletrônico</h2>
        Notas disponíveis: R$10 e R$50 <br>
        Saque desejado: <input type="number" id="saque_desejado"> <br>
        <button type="button" onclick="sacar(saque_desejado.value)">Efetuar Saque</button> <br>
        <div id="resposta_saque"></div>
    </div>
</body>

</html>

<script>
    // ex extra
    function sacar(valor) {
        var atm = {
            nota1: 10,
            nota2: 50
        }

        var frase = '';
        if (valor % atm.nota1 == 0 || valor % atm.nota2 == 0) {
            frase = `Saque possível.`;
        } else {
            frase = 'Saque não será possível';
        }

        var n_notas_10 = valor / atm.nota1;
        var n_notas_50 = valor / atm.nota2;

        if (valor % atm.nota1 == 0 && valor % atm.nota2 == 0) {
            frase += `<br> Você receberá ${n_notas_10} notas de R$${atm.nota1} ou ${n_notas_50} notas de R$${atm.nota2}`;
        } else if (valor % atm.nota1 == 0 && valor % atm.nota2 != 0) {
            frase += `<br> Você receberá ${n_notas_10} notas de R$${atm.nota1}`;
        } else if (valor % atm.nota1 != 0 && valor % atm.nota2 == 0) {
            frase += `<br> Você receberá ${n_notas_50} notas de R$${atm.nota2}`;
        }
        resposta_saque.innerHTML = frase;
    }

    // ex 5
    var conta1 = {
        saldo: 0,
        depositos: 0,
        saques: 0
    }

    function depositar100() {
        conta1.saldo += 100;
        v_saldo.innerHTML = conta1.saldo.toFixed(2);
        conta1.depositos++;
        n_dep.innerHTML = conta1.depositos;
    }

    function sacar20() {
        conta1.saldo -= 20;
        v_saldo.innerHTML = conta1.saldo.toFixed(2);
        conta1.saques++;
        n_saques.innerHTML = conta1.saques;
    }

    // ex 4 
    var end1 = {
        apelido: 'Casa da Praia',
        endereco_completo: 'Av. Papa Paulo VI, 68 - Bal. Flórida',
        cep: '11750-000'
    }

    var end2 = {
        apelido: 'Apartamento na Cidade',
        endereco_completo: 'Av. Paulista, 1001 - Bela Vista',
        cep: '11750-001'
    }

    function encontrarCep(cep) {
        var frase;
        if (cep == end1.cep) {
            frase = `Endereço ${end1.apelido}: <br> ${end1.endereco_completo}, CEP ${end1.cep} `
        } else if (cep == end2.cep) {
            frase = `Endereço ${end2.apelido}: <br> ${end2.endereco_completo}, CEP ${end2.cep} `
        } else {
            frase = 'CEP não encontrado'
        }
        msgCep.innerHTML = frase;
    }

    // ex 3
    var ptsPais = { ouro: 10000, prata: 100, bronze: 1 };

    function pontuarPais(countryName, n_ouro, n_prata, n_bronze) {

        var medalhasPais = {
            ouro: n_ouro,
            prata: n_prata,
            bronze: n_bronze
        }

        var pontos_do_pais = medalhasPais.ouro * ptsPais.ouro + medalhasPais.prata * ptsPais.prata + medalhasPais.bronze * ptsPais.bronze;

        msg_medalhas_pais.innerHTML = `O País ${countryName} tem ${pontos_do_pais} pontos.`

    }

    // exs 1 e 2
    var pts = { v: 5, e: 2, d: 1 };

    function analisarTimeAB() {
        var campanhaA = {
            v: Number(vitoriasTimeA.value),
            e: Number(empatesTimeA.value),
            d: Number(derrotasTimeA.value)
        }
        var campanhaB = {
            v: Number(vitoriasTimeB.value),
            e: Number(empatesTimeB.value),
            d: Number(derrotasTimeB.value)
        }
        var pontosTimeA = campanhaA.v * pts.v + campanhaA.e * pts.e + campanhaA.d * pts.d;
        var pontosTimeB = campanhaB.v * pts.v + campanhaB.e * pts.e + campanhaB.d * pts.d;

        resultadoTimeAB.innerHTML = `O time ${nomeTimeA.value} terminou com ${pontosTimeA} pontos. <br> 
        O time ${nomeTimeB.value} terminou com ${pontosTimeB} pontos.`;

    }

    function analisar() {

        var campanha = {
            v: Number(vitorias.value),
            e: Number(empates.value),
            d: Number(derrotas.value)
        }

        var pontos = campanha.v * pts.v + campanha.e * pts.e + campanha.d * pts.d;

        resultado.innerHTML = `O time terminou com ${pontos} pontos.`;

    }


</script>